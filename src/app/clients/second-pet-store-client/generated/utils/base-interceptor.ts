/* @ts-nocheck */
/* eslint-disable */
/* @noformat */
/* @formatter:off */
/**
* Generated by ng-openapi
* Generated Base Interceptor for client SecondPetStore
* Do not edit this file manually
*/
import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpContextToken } from "@angular/common/http";
import { inject, Injectable } from "@angular/core";
import { Observable } from "rxjs";
import { HTTP_INTERCEPTORS_SECONDPETSTORE, CLIENT_CONTEXT_TOKEN_SECONDPETSTORE } from "../tokens";

@Injectable()
export class SecondPetStoreBaseInterceptor implements HttpInterceptor {
    private readonly httpInterceptors: HttpInterceptor[] = inject(HTTP_INTERCEPTORS_SECONDPETSTORE);
    private readonly clientContextToken: HttpContextToken<string> = CLIENT_CONTEXT_TOKEN_SECONDPETSTORE;

    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {

            // Check if this request belongs to this client using HttpContext
            if (!req.context.has(this.clientContextToken)) {
              // This request doesn't belong to this client, pass it through
              return next.handle(req);
            }

            // Apply client-specific interceptors in reverse order
            let handler = next;

            handler = this.httpInterceptors.reduceRight(
              (next, interceptor) => ({
                handle: (request: HttpRequest<any>) => interceptor.intercept(request, next)
              }),
              handler
            );

            return handler.handle(req);
    }
}
